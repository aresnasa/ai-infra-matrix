# AI Infrastructure Matrix

ä¸€ä¸ªå…¨é¢çš„AIåŸºç¡€è®¾æ–½ç®¡ç†å¹³å°ï¼ŒåŸºäº Go + React æŠ€æœ¯æ ˆæ„å»ºï¼Œæ”¯æŒå®¹å™¨åŒ–éƒ¨ç½²ã€åˆ†å¸ƒå¼é…ç½®ç®¡ç†ã€AIç½‘å…³æœåŠ¡å’Œè‡ªåŠ¨åŒ–è¿ç»´åŠŸèƒ½ã€‚

## ğŸš€ å¿«é€Ÿå¼€å§‹

### å‰ç½®è¦æ±‚

- Docker å’Œ Docker Compose
- Git
- curlï¼ˆç”¨äºå¥åº·æ£€æŸ¥ï¼‰

### ä¸€é”®å¯åŠ¨

```bash
# å…‹éš†é¡¹ç›®
git clone https://github.com/aresnasa/ai-infra-matrix.git
cd ai-infra-matrix/src

# å¯åŠ¨æ‰€æœ‰æœåŠ¡
docker-compose up -d

# æˆ–è€…ä½¿ç”¨æ„å»ºè„šæœ¬
./build-and-run.sh full

# æ•°æ®åº“åˆå§‹åŒ–
docker exec ansible-backend ./init
```

### è®¿é—®åº”ç”¨

- **å‰ç«¯åº”ç”¨**: <http://localhost:3001>
- **åç«¯API**: <http://localhost:8082>
- **ç®¡ç†ä¸­å¿ƒ**: <http://localhost:3001/admin>
- **é»˜è®¤ç”¨æˆ·**: admin / admin123

## ğŸ“ é¡¹ç›®ç»“æ„

```text
ai-infra-matrix/
â”œâ”€â”€ src/                    # ä¸»è¦åº”ç”¨ä»£ç 
â”‚   â”œâ”€â”€ frontend/           # React å‰ç«¯åº”ç”¨
â”‚   â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”‚   â”œâ”€â”€ components/ # React ç»„ä»¶
â”‚   â”‚   â”‚   â”œâ”€â”€ pages/      # é¡µé¢ç»„ä»¶
â”‚   â”‚   â”‚   â””â”€â”€ utils/      # å·¥å…·å‡½æ•°
â”‚   â”‚   â””â”€â”€ package.json
â”‚   â”œâ”€â”€ backend/            # Go åç«¯æœåŠ¡
â”‚   â”‚   â”œâ”€â”€ cmd/            # åº”ç”¨å…¥å£
â”‚   â”‚   â”œâ”€â”€ internal/       # å†…éƒ¨åŒ…
â”‚   â”‚   â”‚   â”œâ”€â”€ controllers/# æ§åˆ¶å™¨
â”‚   â”‚   â”‚   â”œâ”€â”€ models/     # æ•°æ®æ¨¡å‹
â”‚   â”‚   â”‚   â”œâ”€â”€ services/   # ä¸šåŠ¡é€»è¾‘
â”‚   â”‚   â”‚   â””â”€â”€ middleware/ # ä¸­é—´ä»¶
â”‚   â”‚   â”œâ”€â”€ migrations/     # æ•°æ®åº“è¿ç§»
â”‚   â”‚   â””â”€â”€ go.mod
â”‚   â”œâ”€â”€ docker/             # Docker é…ç½®
â”‚   â”œâ”€â”€ dev_doc/            # å¼€å‘æ–‡æ¡£ç›®å½•
â”‚   â”‚   â”œâ”€â”€ testing/        # æµ‹è¯•ç›¸å…³æ–‡æ¡£
â”‚   â”‚   â”œâ”€â”€ build-deploy/   # æ„å»ºéƒ¨ç½²æ–‡æ¡£
â”‚   â”‚   â”œâ”€â”€ database/       # æ•°æ®åº“æ–‡æ¡£
â”‚   â”‚   â””â”€â”€ general/        # é€šç”¨æ–‡æ¡£
â”‚   â”œâ”€â”€ tests/              # æµ‹è¯•è„šæœ¬å’ŒæŠ¥å‘Š
â”‚   â”œâ”€â”€ tools/              # å·¥å…·è„šæœ¬
â”‚   â”‚   â””â”€â”€ fix_imports.py  # Goå¯¼å…¥è·¯å¾„ä¿®å¤å·¥å…·
â”‚   â”œâ”€â”€ docker-compose.yml  # Docker Compose é…ç½®
â”‚   â””â”€â”€ build-and-run.sh    # ä¸»è¦æ„å»ºå’Œæµ‹è¯•è„šæœ¬
â”œâ”€â”€ docker-saltstack/       # SaltStack é…ç½®ç®¡ç†
â”‚   â”œâ”€â”€ salt-config/        # Salt é…ç½®æ–‡ä»¶
â”‚   â”œâ”€â”€ salt-states/        # Salt çŠ¶æ€æ–‡ä»¶
â”‚   â”œâ”€â”€ salt-pillar/        # Salt Pillar æ•°æ®
â”‚   â””â”€â”€ tests/              # SaltStack æµ‹è¯•
â””â”€â”€ third-party/            # ç¬¬ä¸‰æ–¹ç»„ä»¶
    â”œâ”€â”€ ansible/            # Ansible é…ç½®
    â”œâ”€â”€ jupyterhub/         # JupyterHub æœåŠ¡
    â””â”€â”€ salt/               # Salt ç®¡ç†å·¥å…·
```

## ğŸ› ï¸ æ ¸å¿ƒåŠŸèƒ½

### AIåŸºç¡€è®¾æ–½ç®¡ç†

- **å®¹å™¨ç¼–æ’** - Docker/Kubernetes é›†ç¾¤ç®¡ç†
- **é…ç½®ç®¡ç†** - SaltStack è‡ªåŠ¨åŒ–é…ç½®
- **ç½‘å…³æœåŠ¡** - AIæœåŠ¡è·¯ç”±å’Œè´Ÿè½½å‡è¡¡
- **ç›‘æ§å‘Šè­¦** - åŸºç¡€è®¾æ–½å¥åº·ç›‘æ§
- **è‡ªåŠ¨éƒ¨ç½²** - CI/CD æµæ°´çº¿é›†æˆ

### ç®¡ç†åŠŸèƒ½

- **ç”¨æˆ·ç®¡ç†** - ç”¨æˆ·è´¦æˆ·å’Œæƒé™ç®¡ç†
- **è§’è‰²ç®¡ç†** - åŸºäºè§’è‰²çš„è®¿é—®æ§åˆ¶ (RBAC)
- **ç³»ç»Ÿè®¾ç½®** - ç³»ç»Ÿé…ç½®å’Œå‚æ•°ç®¡ç†
- **LDAPé›†æˆ** - æ”¯æŒLDAPç”¨æˆ·åŒæ­¥
- **æ—¥å¿—å®¡è®¡** - ç³»ç»Ÿæ“ä½œæ—¥å¿—è®°å½•

### AIæœåŠ¡é›†æˆ

- **æ¨¡å‹ç®¡ç†** - AIæ¨¡å‹ç‰ˆæœ¬å’Œéƒ¨ç½²ç®¡ç†
- **APIç½‘å…³** - ç»Ÿä¸€AIæœåŠ¡æ¥å…¥ç‚¹
- **è´Ÿè½½å‡è¡¡** - æ™ºèƒ½è¯·æ±‚åˆ†å‘
- **ç¼“å­˜ç­–ç•¥** - é«˜æ€§èƒ½å“åº”ä¼˜åŒ–
- **å®‰å…¨è®¤è¯** - JWT + API Key è®¤è¯

## ğŸ§ª æµ‹è¯•å’ŒéªŒè¯

### è‡ªåŠ¨åŒ–æµ‹è¯•

```bash
# è¿è¡Œå®Œæ•´æµ‹è¯•å¥—ä»¶
./build-and-run.sh full

# ä»…è¿è¡Œå¥åº·æ£€æŸ¥å’ŒåŠŸèƒ½æµ‹è¯•
./build-and-run.sh test

# ç®¡ç†ä¸­å¿ƒåŠŸèƒ½æµ‹è¯•
./build-and-run.sh admin-full
```

### æ‰‹åŠ¨æµ‹è¯•

```bash
# å¯åŠ¨æµè§ˆå™¨è¿›è¡Œæ‰‹åŠ¨æµ‹è¯•
./build-and-run.sh admin-browser

# æŸ¥çœ‹æœåŠ¡çŠ¶æ€
./build-and-run.sh info

# æŸ¥çœ‹æœåŠ¡æ—¥å¿—
./build-and-run.sh logs [service_name]
```

## ğŸ”§ æŠ€æœ¯æ ˆ

### å‰ç«¯æŠ€æœ¯

- **React 18** - ç°ä»£åŒ–å‰ç«¯æ¡†æ¶
- **Ant Design** - ä¼ä¸šçº§UIç»„ä»¶åº“
- **React Router** - å‰ç«¯è·¯ç”±ç®¡ç†
- **Axios** - HTTPå®¢æˆ·ç«¯

### åç«¯æŠ€æœ¯

- **Go 1.24** - é«˜æ€§èƒ½åç«¯è¯­è¨€
- **Gin** - è½»é‡çº§Webæ¡†æ¶
- **GORM** - ORMæ•°æ®åº“æ“ä½œ
- **JWT** - èº«ä»½è®¤è¯
- **LDAP** - ä¼ä¸šç”¨æˆ·é›†æˆ

### åŸºç¡€è®¾æ–½

- **PostgreSQL** - ä¸»æ•°æ®åº“
- **Redis** - ç¼“å­˜å’Œä¼šè¯å­˜å‚¨
- **OpenLDAP** - ç”¨æˆ·ç›®å½•æœåŠ¡
- **Docker** - å®¹å™¨åŒ–éƒ¨ç½²
- **Nginx** - åå‘ä»£ç†å’Œé™æ€æ–‡ä»¶æœåŠ¡

## ğŸ“š æ–‡æ¡£ç›®å½•

è¯¦ç»†çš„å¼€å‘æ–‡æ¡£å·²æ•´ç†åˆ° `dev_doc/` ç›®å½•ä¸­ï¼š

- **[å¼€å‘æ–‡æ¡£ç´¢å¼•](dev_doc/README.md)** - å®Œæ•´çš„æ–‡æ¡£å¯¼èˆªå’Œåˆ†ç±»
- **[æµ‹è¯•æ–‡æ¡£](dev_doc/testing/)** - å®Œæ•´çš„æµ‹è¯•æŒ‡å—å’Œè„šæœ¬
- **[æ„å»ºéƒ¨ç½²](dev_doc/build-deploy/)** - æ„å»ºå’Œéƒ¨ç½²ç›¸å…³æ–‡æ¡£
- **[æ•°æ®åº“æ–‡æ¡£](dev_doc/database/)** - æ•°æ®åº“ç»“æ„å’Œè¿ç§»æŒ‡å—
- **[AIä¸­é—´ä»¶](dev_doc/ai-middleware-architecture.md)** - AIæœåŠ¡æ¶æ„è¯´æ˜
- **[é›†æˆæ€»ç»“](dev_doc/INTEGRATION_SUMMARY.md)** - ç³»ç»Ÿé›†æˆæ¦‚è§ˆ

## ğŸ” å¸¸ç”¨å‘½ä»¤

```bash
# æ„å»ºæœåŠ¡
./build-and-run.sh build

# å¯åŠ¨æœåŠ¡
./build-and-run.sh start

# åœæ­¢æœåŠ¡
./build-and-run.sh stop

# é‡å¯æœåŠ¡
./build-and-run.sh restart

# æ¸…ç†ç¯å¢ƒ
./build-and-run.sh clean

# æŸ¥çœ‹å¸®åŠ©
./build-and-run.sh help
```

## ğŸ³ æœåŠ¡ä¿¡æ¯

### ç«¯å£é…ç½®

- **å‰ç«¯**: <http://localhost:3001>
- **åç«¯**: <http://localhost:8082>
- **PostgreSQL**: localhost:5433
- **Redis**: localhost:6379
- **LDAP**: localhost:389
- **phpLDAPadmin**: <http://localhost:8081>

### é»˜è®¤è´¦æˆ·

- **ç”¨æˆ·å**: admin
- **å¯†ç **: admin123
- **è§’è‰²**: ç³»ç»Ÿç®¡ç†å‘˜

## ğŸ“ˆ é¡¹ç›®çŠ¶æ€

- âœ… **Goæ¨¡å—è·¯å¾„** - å·²ä¿®å¤ä¸ºæ­£ç¡®çš„GitHubè·¯å¾„
- âœ… **Dockeræ„å»º** - å‰åç«¯å®¹å™¨åŒ–éƒ¨ç½²å®Œæˆ
- âœ… **æ•°æ®åº“åˆå§‹åŒ–** - å®Œæ•´çš„RBACç³»ç»Ÿå’ŒAIé…ç½®
- âœ… **ç”¨æˆ·è®¤è¯** - JWT + LDAP é›†æˆ
- âœ… **æƒé™ç®¡ç†** - å®Œæ•´çš„RBACç³»ç»Ÿ
- âœ… **ç®¡ç†ç•Œé¢** - ç”¨æˆ·ã€è§’è‰²ã€ç³»ç»Ÿç®¡ç†
- âœ… **æµ‹è¯•è¦†ç›–** - å®Œæ•´çš„è‡ªåŠ¨åŒ–æµ‹è¯•å¥—ä»¶
- âœ… **å®¹å™¨åŒ–** - Docker Compose ä¸€é”®éƒ¨ç½²
- âœ… **æ–‡æ¡£å®Œæ•´** - ç»“æ„åŒ–æ–‡æ¡£ç³»ç»Ÿ
- âœ… **é…ç½®ç®¡ç†** - SaltStack åŸºç¡€è®¾æ–½è‡ªåŠ¨åŒ–

## ğŸ”— ç›¸å…³é“¾æ¥

- [APIæ–‡æ¡£](<http://localhost:8082/swagger/index.html>) - Swagger API æ–‡æ¡£
- [å¥åº·æ£€æŸ¥](<http://localhost:8082/api/health>) - åç«¯å¥åº·çŠ¶æ€
- [é¡¹ç›®ä»“åº“](https://github.com/aresnasa/ai-infra-matrix) - å®Œæ•´é¡¹ç›®ä»£ç 
- [å¼€å‘æ–‡æ¡£](dev_doc/README.md) - è¯¦ç»†å¼€å‘æŒ‡å—

---

**ç»´æŠ¤è€…**: aresnasa  
**æœ€åæ›´æ–°**: 2025å¹´7æœˆ25æ—¥
