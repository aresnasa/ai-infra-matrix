# æµ‹è¯•è„šæœ¬ä½¿ç”¨è¯´æ˜

æœ¬ç›®å½•åŒ…å«ä¸¤ä¸ªä¸»è¦çš„æµ‹è¯•è„šæœ¬ï¼Œç”¨äºæ„å»ºã€è¿è¡Œå’Œæµ‹è¯• Ansible Playbook Generator Web-v2 åº”ç”¨ç¨‹åºã€‚

## ğŸ“‹ è„šæœ¬åˆ—è¡¨

### 1. `build-and-run.sh` - ä¸»è¦æ„å»ºå’Œè¿è¡Œè„šæœ¬

è¿™æ˜¯ä¸»è¦çš„é¡¹ç›®ç®¡ç†è„šæœ¬ï¼Œæä¾›å®Œæ•´çš„åº”ç”¨ç¨‹åºç”Ÿå‘½å‘¨æœŸç®¡ç†ã€‚

#### å¯ç”¨å‘½ä»¤:

```bash
# æ˜¾ç¤ºå¸®åŠ©ä¿¡æ¯
./build-and-run.sh help

# æ„å»ºæ‰€æœ‰æœåŠ¡
./build-and-run.sh build

# å¯åŠ¨æ‰€æœ‰æœåŠ¡
./build-and-run.sh start

# è¿è¡Œå¥åº·æ£€æŸ¥å’ŒåŠŸèƒ½æµ‹è¯•
./build-and-run.sh test

# å®Œæ•´æµç¨‹ï¼šæ¸…ç†->æ„å»º->å¯åŠ¨->æµ‹è¯•
./build-and-run.sh full

# åœæ­¢æ‰€æœ‰æœåŠ¡
./build-and-run.sh stop

# é‡å¯æ‰€æœ‰æœåŠ¡
./build-and-run.sh restart

# æŸ¥çœ‹æœåŠ¡æ—¥å¿—
./build-and-run.sh logs
./build-and-run.sh logs frontend    # æŸ¥çœ‹ç‰¹å®šæœåŠ¡æ—¥å¿—

# æ˜¾ç¤ºæœåŠ¡ä¿¡æ¯
./build-and-run.sh info

# å®Œå…¨æ¸…ç†æ‰€æœ‰å®¹å™¨å’Œæ•°æ®
./build-and-run.sh clean
```

### 2. `test-admin-navigation.sh` - ç®¡ç†ä¸­å¿ƒå¯¼èˆªä¸“é¡¹æµ‹è¯•

è¿™æ˜¯ä¸“é—¨ç”¨äºæµ‹è¯•ç®¡ç†ä¸­å¿ƒå¯¼èˆªåŠŸèƒ½çš„è„šæœ¬ã€‚

#### å¯ç”¨å‘½ä»¤:

```bash
# æ˜¾ç¤ºå¸®åŠ©ä¿¡æ¯
./test-admin-navigation.sh help

# è¿è¡Œåç«¯APIå’Œé¡µé¢è®¿é—®æµ‹è¯•
./test-admin-navigation.sh test

# æ‰“å¼€æµè§ˆå™¨è¿›è¡Œæ‰‹åŠ¨å‰ç«¯æµ‹è¯•
./test-admin-navigation.sh browser

# è¿è¡Œå®Œæ•´æµ‹è¯•ï¼ˆAPI + æµè§ˆå™¨ï¼‰
./test-admin-navigation.sh full
```

## ğŸš€ å¿«é€Ÿå¼€å§‹

### é¦–æ¬¡è¿è¡Œå®Œæ•´æµ‹è¯•:

```bash
# 1. å®Œæ•´æ„å»ºã€å¯åŠ¨å’Œæµ‹è¯•
./build-and-run.sh full

# 2. æµ‹è¯•ç®¡ç†ä¸­å¿ƒå¯¼èˆªåŠŸèƒ½
./test-admin-navigation.sh full
```

### æ—¥å¸¸å¼€å‘å·¥ä½œæµ:

```bash
# å¯åŠ¨å¼€å‘ç¯å¢ƒ
./build-and-run.sh start

# æŸ¥çœ‹æ—¥å¿—ï¼ˆå¼€å‘æ—¶å¾ˆæœ‰ç”¨ï¼‰
./build-and-run.sh logs frontend
./build-and-run.sh logs backend

# é‡å¯æœåŠ¡ï¼ˆä»£ç æ›´æ”¹åï¼‰
./build-and-run.sh restart

# åœæ­¢æœåŠ¡
./build-and-run.sh stop
```

## ğŸŒ æœåŠ¡è®¿é—®åœ°å€

è¿è¡ŒæˆåŠŸåï¼Œæ‚¨å¯ä»¥è®¿é—®ä»¥ä¸‹æœåŠ¡:

- **å‰ç«¯åº”ç”¨**: http://localhost:3001
- **ç®¡ç†ä¸­å¿ƒ**: http://localhost:3001/admin
- **åç«¯API**: http://localhost:8082
- **APIæ–‡æ¡£**: http://localhost:8082/swagger/index.html
- **å¥åº·æ£€æŸ¥**: http://localhost:8082/health
- **LDAPç®¡ç†**: http://localhost:8081
- **æ•°æ®åº“**: localhost:5433 (postgres/postgres)

## ğŸ” é»˜è®¤ç™»å½•ä¿¡æ¯

- **ç”¨æˆ·å**: admin
- **å¯†ç **: admin123

## âœ… ç®¡ç†ä¸­å¿ƒå¯¼èˆªåŠŸèƒ½éªŒè¯

è¿è¡Œæµ‹è¯•åï¼Œè¯·åœ¨æµè§ˆå™¨ä¸­éªŒè¯ä»¥ä¸‹åŠŸèƒ½:

### ç‚¹å‡»å¯¼èˆªåŠŸèƒ½:
- âœ… ç‚¹å‡»"ç®¡ç†ä¸­å¿ƒ"æŒ‰é’®åº”è¯¥å¯¼èˆªåˆ° `/admin` é¡µé¢
- âœ… å½“å‰åœ¨ç®¡ç†é¡µé¢æ—¶ï¼ŒæŒ‰é’®åº”è¯¥æ˜¾ç¤ºæ¿€æ´»çŠ¶æ€ï¼ˆè“è‰²èƒŒæ™¯ï¼‰

### ä¸‹æ‹‰èœå•åŠŸèƒ½:
- âœ… é¼ æ ‡æ‚¬åœåœ¨"ç®¡ç†ä¸­å¿ƒ"æŒ‰é’®ä¸Šåº”è¯¥æ˜¾ç¤ºä¸‹æ‹‰èœå•
- âœ… ä¸‹æ‹‰èœå•åº”è¯¥åŒ…å«ï¼šç”¨æˆ·ç®¡ç†ã€è§’è‰²ç®¡ç†ã€æƒé™ç®¡ç†ã€ç³»ç»Ÿè®¾ç½®ã€ç³»ç»Ÿæ—¥å¿—
- âœ… ç‚¹å‡»ä¸‹æ‹‰èœå•ä¸­çš„ä»»æ„é€‰é¡¹åº”è¯¥å¯¼èˆªåˆ°å¯¹åº”é¡µé¢

### è§†è§‰æ•ˆæœ:
- âœ… æŒ‰é’®æœ‰è®¾ç½®å›¾æ ‡å’Œä¸‹æ‹‰ç®­å¤´
- âœ… åœ¨ç®¡ç†é¡µé¢æ—¶æŒ‰é’®èƒŒæ™¯ä¸ºè“è‰² (#1890ff)
- âœ… ä¸‹æ‹‰èœå•æ ·å¼ä¸ä¸»é¢˜ä¸€è‡´

## ğŸ› ï¸ æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜:

1. **å®¹å™¨å¯åŠ¨å¤±è´¥**:
   ```bash
   ./build-and-run.sh clean    # æ¸…ç†åé‡è¯•
   ./build-and-run.sh full
   ```

2. **ç«¯å£è¢«å ç”¨**:
   ```bash
   # æ£€æŸ¥ç«¯å£å ç”¨
   lsof -i :3001
   lsof -i :8082
   # åœæ­¢å ç”¨ç«¯å£çš„è¿›ç¨‹æˆ–ä¿®æ”¹docker-compose.ymlä¸­çš„ç«¯å£æ˜ å°„
   ```

3. **å‰ç«¯é¡µé¢æ— æ³•è®¿é—®**:
   ```bash
   # æ£€æŸ¥å‰ç«¯å®¹å™¨çŠ¶æ€
   ./build-and-run.sh logs frontend
   ```

4. **APIè¯·æ±‚å¤±è´¥**:
   ```bash
   # æ£€æŸ¥åç«¯å®¹å™¨çŠ¶æ€
   ./build-and-run.sh logs backend
   ```

### è°ƒè¯•æ¨¡å¼:

```bash
# æŸ¥çœ‹è¯¦ç»†æ—¥å¿—
./build-and-run.sh logs

# æŸ¥çœ‹å®¹å™¨çŠ¶æ€
docker-compose ps

# è¿›å…¥å®¹å™¨è°ƒè¯•
docker-compose exec frontend sh
docker-compose exec backend sh
```

## ğŸ“ å¼€å‘è¯´æ˜

### ä»£ç ä¿®æ”¹åé‡æ–°éƒ¨ç½²:

```bash
# é‡æ–°æ„å»ºå¹¶å¯åŠ¨
./build-and-run.sh build
./build-and-run.sh restart

# æˆ–è€…ç›´æ¥è¿è¡Œå®Œæ•´æµç¨‹
./build-and-run.sh full
```

### æ•°æ®åº“é‡ç½®:

```bash
# å®Œå…¨æ¸…ç†ï¼ˆä¼šåˆ é™¤æ•°æ®åº“æ•°æ®ï¼‰
./build-and-run.sh clean
./build-and-run.sh start
```

## ğŸ¯ æµ‹è¯•è¦†ç›–èŒƒå›´

è¿™äº›è„šæœ¬æµ‹è¯•ä»¥ä¸‹åŠŸèƒ½:

1. **æœåŠ¡å¥åº·æ£€æŸ¥**: æ‰€æœ‰å®¹å™¨æ­£å¸¸è¿è¡Œ
2. **æ•°æ®åº“è¿æ¥**: PostgreSQL å’Œ Redis è¿æ¥æ­£å¸¸
3. **APIåŠŸèƒ½**: è®¤è¯ã€ç”¨æˆ·ç®¡ç†ç­‰APIæ­£å¸¸
4. **å‰ç«¯é¡µé¢**: ä¸»é¡µé¢å’Œç®¡ç†é¡µé¢å¯è®¿é—®
5. **å¯¼èˆªåŠŸèƒ½**: ç®¡ç†ä¸­å¿ƒç‚¹å‡»å’Œä¸‹æ‹‰èœå•åŠŸèƒ½
6. **æƒé™æ§åˆ¶**: ç®¡ç†å‘˜æƒé™éªŒè¯

éœ€è¦æ‰‹åŠ¨éªŒè¯çš„åŠŸèƒ½:
- å‰ç«¯äº¤äº’ä½“éªŒ
- é¡µé¢è·³è½¬åŠ¨ç”»
- å“åº”å¼è®¾è®¡
- æµè§ˆå™¨å…¼å®¹æ€§
