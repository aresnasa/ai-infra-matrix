# 镜像版本映射配置文件
# 将所有依赖镜像统一映射到 harbor.example.com/aihpc 格式
# 格式: 原始镜像名称|Harbor项目|内部registry版本标签
# 使用 ${TARGET_TAG} 变量来动态替换版本标签

# === 基础镜像映射 ===
# PostgreSQL - 映射到aihpc项目，使用原始版本标签（从deps.yaml）
postgres:15-alpine|aihpc|15-alpine
postgres:latest|aihpc|15-alpine

# Redis - 映射到aihpc项目，使用原始版本标签（从deps.yaml）
redis:7-alpine|aihpc|7-alpine
redis:latest|aihpc|7-alpine

# Nginx - 映射到aihpc项目，使用原始版本标签（从deps.yaml）
nginx:1.27-alpine|aihpc|1.27-alpine
nginx:latest|aihpc|1.27-alpine
nginx|aihpc|1.27-alpine

# === 第三方镜像映射 ===
# TCP Proxy - 映射到aihpc项目，使用原始版本标签（从deps.yaml）
tecnativa/tcp-proxy:latest|aihpc|latest
tecnativa/tcp-proxy|aihpc|latest

# Redis Insight - 映射到aihpc项目，使用原始版本标签（从 deps.yaml）
redislabs/redisinsight:latest|aihpc|2.58.0
redislabs/redisinsight|aihpc|2.58.0

# SeaweedFS - 映射到aihpc项目，使用latest版本
chrislusf/seaweedfs:latest|aihpc|latest
chrislusf/seaweedfs|aihpc|latest

# === LDAP 镜像映射 ===
# OpenLDAP - 映射到aihpc项目，使用原始版本标签（从deps.yaml）
osixia/openldap:stable|aihpc|stable
osixia/openldap:latest|aihpc|stable

# phpLDAPadmin - 映射到aihpc项目，使用原始版本标签（从deps.yaml）
osixia/phpldapadmin:stable|aihpc|stable
osixia/phpldapadmin:latest|aihpc|stable

# === Kafka 消息队列镜像映射 ===
# Confluent Kafka - 映射到aihpc项目，使用原始版本标签（从deps.yaml）
confluentinc/cp-kafka:7.5.0|aihpc|7.5.0
confluentinc/cp-kafka:latest|aihpc|7.5.0

# Kafka UI - 映射到aihpc项目，使用原始版本标签（从deps.yaml）
provectuslabs/kafka-ui:latest|aihpc|latest
provectuslabs/kafka-ui|aihpc|latest

# === 版本控制镜像映射 ===
# Gitea - 映射到aihpc项目，使用原始版本标签（从deps.yaml）
gitea/gitea:1.22|aihpc|1.22
gitea/gitea:1.25.3|aihpc|1.25.3
gitea/gitea:latest|aihpc|1.25.3

# === Python & Jupyter 镜像映射 ===
# JupyterHub Base Images
jupyter/base-notebook:latest|aihpc|python-3.11.10
jupyter/minimal-notebook:latest|aihpc|python-3.11.10
jupyter/datascience-notebook:latest|aihpc|python-3.11.10

# JupyterHub 
jupyterhub/jupyterhub:4.0|aihpc|4.0
jupyterhub/jupyterhub:latest|aihpc|4.0

# === 监控和管理镜像映射 ===
# SaltStack 镜像（如果使用的话）
saltproject/salt:latest|aihpc|latest
saltstack/salt:latest|aihpc|latest

# === 构建和开发镜像映射 ===
# Node.js for frontend builds
node:18-alpine|aihpc|18-alpine
node:20-alpine|aihpc|20-alpine
node:22-alpine|aihpc|22-alpine
node:latest|aihpc|22-alpine

# Go for backend builds  
golang:1.21-alpine|aihpc|1.21-alpine
golang:1.25-bookworm|aihpc|1.25-bookworm
golang:latest|aihpc|1.25-bookworm

# Python base images
python:3.11-slim|aihpc|3.11-slim
python:3.12-slim|aihpc|3.12-slim
python:3.14-alpine|aihpc|3.14-alpine
python:latest|aihpc|3.11-slim

# Alpine base image
alpine:3.20|aihpc|3.20
alpine:latest|aihpc|3.22

# Nginx base images
nginx:stable-alpine-perl|aihpc|stable-alpine-perl
nginx:stable|aihpc|stable

# === AI Infra Matrix 内部镜像映射 ===
# AI Infra Singleuser Notebook - 内部预构建镜像，使用项目版本标签
ai-infra-singleuser:latest|aihpc|${TARGET_TAG}
ai-infra-singleuser:dev|aihpc|${TARGET_TAG}
