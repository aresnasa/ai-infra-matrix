# 镜像版本映射配置文件
# 将所有依赖镜像统一映射到 aiharbor.msxf.local/aihpc 格式
# 格式: 原始镜像名称|Harbor项目|内部registry版本标签
# 使用 ${TARGET_TAG} 变量来动态替换版本标签

# === 基础镜像映射 ===
# PostgreSQL - 映射到aihpc项目，使用动态版本标签
postgres:15-alpine|aihpc|${TARGET_TAG}
postgres:latest|aihpc|${TARGET_TAG}

# Redis - 映射到aihpc项目，使用动态版本标签
redis:7-alpine|aihpc|${TARGET_TAG}
redis:latest|aihpc|${TARGET_TAG}

# Nginx - 映射到aihpc项目，使用动态版本标签
nginx:1.27-alpine|aihpc|${TARGET_TAG}
nginx:latest|aihpc|${TARGET_TAG}
nginx|aihpc|${TARGET_TAG}

# === 第三方镜像映射 ===
# TCP Proxy - 映射到aihpc项目，使用动态版本标签
tecnativa/tcp-proxy:latest|aihpc|${TARGET_TAG}
tecnativa/tcp-proxy|aihpc|${TARGET_TAG}

# Redis Insight - 映射到aihpc项目，使用动态版本标签
redislabs/redisinsight:latest|aihpc|${TARGET_TAG}
redislabs/redisinsight|aihpc|${TARGET_TAG}

# MinIO - 映射到aihpc项目，使用动态版本标签
quay.io/minio/minio:latest|aihpc|${TARGET_TAG}
quay.io/minio/minio|aihpc|${TARGET_TAG}
minio/minio:latest|aihpc|${TARGET_TAG}
minio/minio|aihpc|${TARGET_TAG}

# === LDAP 镜像映射 ===
# OpenLDAP - 映射到aihpc项目，使用动态版本标签
osixia/openldap:stable|aihpc|${TARGET_TAG}
osixia/openldap:latest|aihpc|${TARGET_TAG}

# phpLDAPadmin - 映射到aihpc项目，使用动态版本标签
osixia/phpldapadmin:stable|aihpc|${TARGET_TAG}
osixia/phpldapadmin:latest|aihpc|${TARGET_TAG}

# === Kafka 消息队列镜像映射 ===
# Confluent Kafka - 映射到aihpc项目，使用动态版本标签
confluentinc/cp-kafka:7.5.0|aihpc|${TARGET_TAG}
confluentinc/cp-kafka:latest|aihpc|${TARGET_TAG}

# Kafka UI - 映射到aihpc项目，使用动态版本标签
provectuslabs/kafka-ui:latest|aihpc|${TARGET_TAG}
provectuslabs/kafka-ui|aihpc|${TARGET_TAG}

# === 版本控制镜像映射 ===
# Gitea - 映射到aihpc项目，使用动态版本标签
gitea/gitea:1.22|aihpc|${TARGET_TAG}
gitea/gitea:latest|aihpc|${TARGET_TAG}

# === Python & Jupyter 镜像映射 ===
# JupyterHub Base Images
jupyter/base-notebook:latest|aihpc|${TARGET_TAG}
jupyter/minimal-notebook:latest|aihpc|${TARGET_TAG}
jupyter/datascience-notebook:latest|aihpc|${TARGET_TAG}

# JupyterHub 
jupyterhub/jupyterhub:4.0|aihpc|${TARGET_TAG}
jupyterhub/jupyterhub:latest|aihpc|${TARGET_TAG}

# === 监控和管理镜像映射 ===
# SaltStack 镜像（如果使用的话）
saltproject/salt:latest|aihpc|${TARGET_TAG}
saltstack/salt:latest|aihpc|${TARGET_TAG}

# === 构建和开发镜像映射 ===
# Node.js for frontend builds
node:18-alpine|aihpc|${TARGET_TAG}
node:20-alpine|aihpc|${TARGET_TAG}

# Go for backend builds  
golang:1.21-alpine|aihpc|${TARGET_TAG}
golang:latest|aihpc|${TARGET_TAG}

# Python base images
python:3.11-slim|aihpc|${TARGET_TAG}
python:3.12-slim|aihpc|${TARGET_TAG}
python:latest|aihpc|${TARGET_TAG}

# Alpine base image
alpine:3.18|aihpc|${TARGET_TAG}
alpine:latest|aihpc|${TARGET_TAG}

# === AI Infra Matrix 内部镜像映射 ===
# AI Infra Singleuser Notebook - 内部预构建镜像
ai-infra-singleuser:latest|aihpc|${TARGET_TAG}
ai-infra-singleuser:dev|aihpc|${TARGET_TAG}
