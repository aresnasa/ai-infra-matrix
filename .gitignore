# Third-party 排除规则
# 以下目录由于体积过大或不需要版本控制而排除
.ssh/
third_party/m3fs
third_party/slurm-operator
third_party/openscow/
third_party/proxy/
third_party/code_server/
scripts/ai_cd.sh
ci_cd.sh
ai_cd.sh
# 排除大型二进制文件 (超过 GitHub 100MB 限制)
# 这些文件在构建时会自动从镜像下载
third_party/prometheus/*.tar.gz
third_party/node_exporter/*.tar.gz
third_party/alertmanager/*.tar.gz

# 保留较小的包 (munge, slurm 源码包可以保留)
# third_party/munge/*.tar.xz        # ~450KB, 保留
# third_party/slurm/*.tar.bz2       # ~7MB, 保留

# 保留 version.json 和 .gitkeep 用于目录结构
!third_party/*/version.json
!third_party/*/.gitkeep
private-docs/

src/apphub/third_party/
src/*/third_party/
ssh-key/
sql/
log/
*.bak
*.log
.env.dev
.env.prod
.env
test-exports/
docker-compose.prod.yml
docker-compose.yml
*.env.backup.*
.env.prod.back*
.env
.env.backup.*
.env.example.backup-*
docker-compose.yml.backup.*
.env.local
.env.test
src/jupyterhub/jupyterhub_config_*
src/frontend/node_modules/
patches/
src/openscow/
backup/
scripts/node_modules
test/e2e/node_modules/
test-results/
test/e2e/test-results/
scripts/test-screenshots
test-screenshots/
#pkgs
pkgs/
.build-cache/
node_modules/
.playwright-mcp/test/e2e/*.png
test/e2e/*.png
.playwright-mcp/test-results/*.png
*.png
src/src/*

# SSH密钥安全: 忽略构建时同步到各组件的密钥副本
# 唯一密钥源存储在: ssh-key/
src/*/ssh-key/
src/backend/ssh-key/
src/apphub/ssh-key/
src/slurm-master/ssh-key/
cleanup-branches.sh

# 开发文档 - 仅保留在开发分支
dev-md.md
dev-conf.md
.vscode/
.playwright-mcp/
logs/
log/
shared/
ssh-key/
config/ai_assistant_config.yaml
config/example-hosts.txt
config/postgres-init/
!scripts/download_third_party.sh
!scripts/convert_dockerfiles_to_tpl.py
playwright-report/
notebooks/
package-lock.json
package.json
docs-all/
package.json
package-lock.json
manual-install-slurm-node.sh
ldap-init-data.ldif
kafka_current.yml
kafka_old.yml
docker-compose.yml.v0.3.6
docker-compose.yml.backup
build.sh.old
src/nginx/conf.d
build.sh.backup
# Generated dependency config files (from .tpl templates)
src/*/dependency.conf
third_party/singularity
third_party/*/version.json
ssl-certs
src/nginx/ssl
# SSL 证书 (由 build.sh ssl-setup 生成)
src/nginx/ssl/*.crt
src/nginx/ssl/*.key
src/nginx/ssl/ca/
.serena
src/nginx/conf.d/*
*.pem
*.key
**/cloudflare.ini
**/.secrets/
**/secrets/

# Offline images export directories
offline-images/
multiarch-images/
offline/
build.sh.old1
scripts/git-switch-user.sh