# AI Infra Matrix - ç»Ÿä¸€éƒ¨ç½²æˆåŠŸæŠ¥å‘Š

## éƒ¨ç½²å®Œæˆæ¦‚è¿°

âœ… **é¡¹ç›®æˆåŠŸç»Ÿä¸€ä¸ºå•ç«¯å£æ¶æ„ï¼Œæ‰€æœ‰æœåŠ¡é€šè¿‡ http://localhost:8080 è®¿é—®**

## æ¶æ„ç‰¹ç‚¹

### 1. ç»Ÿä¸€è®¿é—®ç«¯å£
- **å•ä¸€å…¥å£**: ç«¯å£ 8080
- **Nginx åå‘ä»£ç†**: ç»Ÿä¸€è·¯ç”±ç®¡ç†
- **å†…éƒ¨ç½‘ç»œ**: æ‰€æœ‰æœåŠ¡ä»…åœ¨ Docker å†…éƒ¨é€šä¿¡

### 2. æœåŠ¡è·¯ç”±ç»“æ„
```
http://localhost:8080/          â†’ React å‰ç«¯åº”ç”¨
http://localhost:8080/api/      â†’ Go åç«¯ API
http://localhost:8080/jupyter/  â†’ JupyterHub æœåŠ¡
```

## æœåŠ¡çŠ¶æ€éªŒè¯

### å®¹å™¨è¿è¡ŒçŠ¶æ€
```
âœ… ai-infra-nginx        - å¥åº· (0.0.0.0:8080->80/tcp)
âœ… ai-infra-backend      - å¥åº· (å†…éƒ¨ç«¯å£ 8082)
âœ… ai-infra-frontend     - å¥åº· (å†…éƒ¨ç«¯å£ 80)
âœ… ai-infra-jupyterhub   - å¥åº· (å†…éƒ¨ç«¯å£ 8000)
âœ… ai-infra-postgres     - å¥åº· (å†…éƒ¨ç«¯å£ 5432)
âœ… ai-infra-redis        - å¥åº· (å†…éƒ¨ç«¯å£ 6379)
âœ… ai-infra-openldap     - å¥åº· (å†…éƒ¨ç«¯å£ 389)
```

### API åŠŸèƒ½éªŒè¯
```bash
# åç«¯å¥åº·æ£€æŸ¥ - âœ… æˆåŠŸ
curl http://localhost:8080/api/health
# è¿”å›: {"message":"All services are running","status":"healthy"}

# JupyterHub API - âœ… æˆåŠŸ  
curl http://localhost:8080/jupyter/hub/api
# è¿”å›: {"version": "5.3.0"}
```

## æŠ€æœ¯å®ç°äº®ç‚¹

### 1. Docker Compose ç»Ÿä¸€é…ç½®
- å•æ–‡ä»¶ç®¡ç†æ‰€æœ‰æœåŠ¡
- å†…éƒ¨ç½‘ç»œéš”ç¦»
- å¥åº·æ£€æŸ¥æœºåˆ¶
- ä¾èµ–å…³ç³»ç®¡ç†

### 2. Nginx æ™ºèƒ½è·¯ç”±
- WebSocket æ”¯æŒ (JupyterHub)
- é™æ€æ–‡ä»¶æœåŠ¡ (React)
- API ä»£ç†è½¬å‘
- å®‰å…¨å¤´é…ç½®

### 3. JupyterHub é›†æˆ
- ç‰ˆæœ¬: 5.3.0
- ç»Ÿä¸€è®¤è¯ç³»ç»Ÿ
- PostgreSQL åç«¯å­˜å‚¨
- Redis ä¼šè¯ç®¡ç†

### 4. Go åç«¯ä¼˜åŒ–
- JWT è®¤è¯ç³»ç»Ÿ
- å¥åº·æ£€æŸ¥ç«¯ç‚¹
- å†…éƒ¨æœåŠ¡é€šä¿¡
- ç¼–è¯‘é”™è¯¯å…¨éƒ¨è§£å†³

## éƒ¨ç½²å‘½ä»¤

### å¯åŠ¨æ•´ä¸ªç³»ç»Ÿ
```bash
cd /Users/aresnasa/MyProjects/go/src/github.com/aresnasa/ai-infra-matrix
docker-compose up -d
```

### åœæ­¢ç³»ç»Ÿ
```bash
docker-compose down
```

### é‡å»ºå’Œå¯åŠ¨
```bash
./deploy.sh
```

## è®¿é—®æ–¹å¼

| æœåŠ¡ | URL | æè¿° |
|------|-----|------|
| å‰ç«¯åº”ç”¨ | http://localhost:8080/ | React ç”¨æˆ·ç•Œé¢ |
| åç«¯ API | http://localhost:8080/api/ | RESTful API æœåŠ¡ |
| JupyterHub | http://localhost:8080/jupyter/ | Jupyter ç¬”è®°æœ¬æœåŠ¡ |

## ç®¡ç†å‘˜è´¦æˆ·

### JupyterHub ç®¡ç†å‘˜
- ç”¨æˆ·å: `jupyter-admin`
- ç”¨æˆ·å: `admin`

## å®‰å…¨ç‰¹æ€§

1. **ç½‘ç»œéš”ç¦»**: é™¤ Nginx å¤–æ‰€æœ‰æœåŠ¡ä»…å†…éƒ¨è®¿é—®
2. **SSL å‡†å¤‡**: HTTPS é…ç½®å·²é¢„ç•™ (ç«¯å£ 8443)
3. **å®‰å…¨å¤´**: XSS ä¿æŠ¤ã€å†…å®¹ç±»å‹æ£€æµ‹ç­‰
4. **JWT è®¤è¯**: åç«¯ API å®‰å…¨éªŒè¯

## æ€§èƒ½ä¼˜åŒ–

1. **å¥åº·æ£€æŸ¥**: æ‰€æœ‰æœåŠ¡è‡ªåŠ¨å¥åº·ç›‘æ§
2. **è¿æ¥æ± **: PostgreSQL å’Œ Redis è¿æ¥ä¼˜åŒ–
3. **é™æ€èµ„æº**: Nginx ç›´æ¥æœåŠ¡å‰ç«¯æ–‡ä»¶
4. **ç¼“å­˜ç­–ç•¥**: é™æ€èµ„æºç¼“å­˜é…ç½®

## å¼€å‘å»ºè®®

### 1. å‰ç«¯å¼€å‘
```bash
# å¼€å‘æ¨¡å¼è®¿é—®åç«¯ API
const API_BASE = '/api'  // ä½¿ç”¨ç›¸å¯¹è·¯å¾„
```

### 2. åç«¯å¼€å‘
```bash
# å®¹å™¨å†…æœåŠ¡é€šä¿¡
redis_host := "ai-infra-redis:6379"
postgres_host := "ai-infra-postgres:5432"
```

### 3. JupyterHub æ‰©å±•
```python
# ç»Ÿä¸€è®¤è¯é…ç½®
c.JupyterHub.authenticator_class = 'aiinframatrix_jupyterhub_auth'
```

## æ•…éšœæ’é™¤

### æŸ¥çœ‹æœåŠ¡çŠ¶æ€
```bash
docker-compose ps
docker-compose logs [service_name]
```

### é‡å¯ç‰¹å®šæœåŠ¡
```bash
docker-compose restart [service_name]
```

### æ¸…ç†å’Œé‡å»º
```bash
docker-compose down -v
docker-compose build --no-cache
docker-compose up -d
```

## é¡¹ç›®æˆå°±æ€»ç»“

ğŸ¯ **ä¸»è¦ç›®æ ‡è¾¾æˆ**:
- âœ… ç»Ÿä¸€ Nginx åå‘ä»£ç†æ¶æ„
- âœ… å•ç«¯å£ (8080) è®¿é—®æ‰€æœ‰æœåŠ¡
- âœ… JupyterHub å®Œæ•´é›†æˆ
- âœ… å‰åç«¯æ— ç¼è¿æ¥
- âœ… å†…éƒ¨ç½‘ç»œå®‰å…¨éš”ç¦»

ğŸ”§ **æŠ€æœ¯éš¾ç‚¹è§£å†³**:
- âœ… JupyterHub è®¤è¯ç³»ç»Ÿé›†æˆ
- âœ… Go åç«¯ç¼–è¯‘é”™è¯¯ä¿®å¤
- âœ… Docker å®¹å™¨ç½‘ç»œé…ç½®
- âœ… Nginx è·¯ç”±è§„åˆ™ä¼˜åŒ–
- âœ… ç¯å¢ƒå˜é‡ç»Ÿä¸€ç®¡ç†

ğŸ“Š **è´¨é‡ä¿è¯**:
- âœ… æ‰€æœ‰æœåŠ¡å¥åº·æ£€æŸ¥é€šè¿‡
- âœ… API ç«¯ç‚¹åŠŸèƒ½éªŒè¯å®Œæˆ
- âœ… å®¹å™¨å¯åŠ¨é¡ºåºæ­£ç¡®
- âœ… æ—¥å¿—è¾“å‡ºæ­£å¸¸æ— é”™è¯¯

---

**éƒ¨ç½²æ—¶é—´**: 2025-07-31 00:47:00
**ç‰ˆæœ¬**: v1.0.0-unified
**çŠ¶æ€**: ğŸŸ¢ ç”Ÿäº§å°±ç»ª
