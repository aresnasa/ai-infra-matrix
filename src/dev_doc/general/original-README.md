# Ansible Playbook Generator

ä¸€ä¸ªç°ä»£åŒ–çš„ Ansible Playbook ç”Ÿæˆå’Œç®¡ç† Web åº”ç”¨ç¨‹åºï¼Œæ”¯æŒé¡¹ç›®ç®¡ç†ã€ä¸»æœºé…ç½®ã€ä»»åŠ¡å®šä¹‰å’Œæ–‡ä»¶ä¸‹è½½åŠŸèƒ½ã€‚

## ğŸš€ å¿«é€Ÿå¼€å§‹

### å‰ç½®è¦æ±‚

- Docker å’Œ Docker Compose
- Git
- curl å’Œ jq (ç”¨äºæµ‹è¯•)

### ä¸€é”®éƒ¨ç½²

```bash
# å…‹éš†é¡¹ç›®
git clone <repository-url>
cd ansible-playbook-generator/web-v2

# å¯åŠ¨æ‰€æœ‰æœåŠ¡
docker-compose up -d

# åˆå§‹åŒ–æ•°æ®åº“
cd backend && ./db_manager.sh init

# éªŒè¯éƒ¨ç½²
./tests/scripts/test-e2e.sh
```

### è®¿é—®åº”ç”¨

- **å‰ç«¯åº”ç”¨**: http://localhost:3001
- **åç«¯API**: http://localhost:8082
- **é»˜è®¤ç”¨æˆ·**: admin / admin123

## ğŸ“‹ åŠŸèƒ½ç‰¹æ€§

### æ ¸å¿ƒåŠŸèƒ½

- **é¡¹ç›®ç®¡ç†** - åˆ›å»ºã€ç¼–è¾‘ã€åˆ é™¤ Ansible é¡¹ç›®
- **ä¸»æœºç®¡ç†** - é…ç½®ç›®æ ‡ä¸»æœºå’Œæ¸…å•
- **ä»»åŠ¡å®šä¹‰** - å¯è§†åŒ–åˆ›å»º Ansible ä»»åŠ¡
- **Playbookç”Ÿæˆ** - è‡ªåŠ¨ç”Ÿæˆæ ‡å‡† Ansible Playbook
- **æ–‡ä»¶ä¸‹è½½** - æ”¯æŒ ZIP åŒ…å’Œå•æ–‡ä»¶ä¸‹è½½
- **é¢„è§ˆåŠŸèƒ½** - åœ¨éƒ¨ç½²å‰é¢„è§ˆç”Ÿæˆçš„æ–‡ä»¶

### ç³»ç»ŸåŠŸèƒ½

- **ç”¨æˆ·è®¤è¯** - JWT åŸºç¡€çš„èº«ä»½éªŒè¯
- **æƒé™ç®¡ç†** - åŸºäºè§’è‰²çš„è®¿é—®æ§åˆ¶ (RBAC)
- **å¥åº·ç›‘æ§** - å®æ—¶ç³»ç»Ÿå¥åº·æ£€æŸ¥
- **å®¹å™¨åŒ–éƒ¨ç½²** - å®Œæ•´çš„ Docker æ”¯æŒ

## ğŸ—ï¸ æŠ€æœ¯æ¶æ„

### æŠ€æœ¯æ ˆ

- **åç«¯**: Go 1.24, Gin, GORM, JWT
- **å‰ç«¯**: React, Ant Design, Axios
- **æ•°æ®åº“**: PostgreSQL 15
- **ç¼“å­˜**: Redis 7
- **å®¹å™¨åŒ–**: Docker, Docker Compose

### æœåŠ¡æ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Frontend      â”‚    â”‚    Backend      â”‚    â”‚   Database      â”‚
â”‚   (React)       â”‚â—„â”€â”€â–ºâ”‚   (Go API)      â”‚â—„â”€â”€â–ºâ”‚  (PostgreSQL)   â”‚
â”‚   Port: 3001    â”‚    â”‚   Port: 8082    â”‚    â”‚   Port: 5433    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â–¼
                       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                       â”‚     Redis       â”‚
                       â”‚   (Cache)       â”‚
                       â”‚   Port: 6379    â”‚
                       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ“– æ–‡æ¡£

### ä¸»è¦æ–‡æ¡£

- **[å®Œæ•´é¡¹ç›®æ–‡æ¡£](docs/README.md)** - åŒ…å«éƒ¨ç½²ã€å®ç°ã€ä¿®å¤æŠ¥å‘Š
- **[æµ‹è¯•æŒ‡å—](docs/TESTING.md)** - æµ‹è¯•è„šæœ¬ä½¿ç”¨è¯´æ˜
- **[Dockeræ–‡æ¡£](docker/README.md)** - Dockeræ–‡ä»¶ç»„ç»‡å’Œä½¿ç”¨

### APIæ–‡æ¡£

- **Swagger UI**: http://localhost:8082/swagger/index.html (éƒ¨ç½²åè®¿é—®)
- **å¥åº·æ£€æŸ¥**: `curl http://localhost:8082/api/health`

## ğŸ§ª æµ‹è¯•

### è¿è¡Œæµ‹è¯•

```bash
# å®Œæ•´ç«¯åˆ°ç«¯æµ‹è¯•
./tests/scripts/test-e2e.sh

# APIåŠŸèƒ½æµ‹è¯•
./tests/scripts/test-api.sh

# å¥åº·æ£€æŸ¥æµ‹è¯•
./tests/scripts/test-health-checks.sh

# ç”¨æˆ·ç®¡ç†æµ‹è¯•
./tests/scripts/test_user_management.sh
```

### æµ‹è¯•è¦†ç›–

- âœ… è®¤è¯å’Œæˆæƒ
- âœ… é¡¹ç›®CRUDæ“ä½œ
- âœ… Playbookç”Ÿæˆ
- âœ… æ–‡ä»¶ä¸‹è½½ (ZIP/å•æ–‡ä»¶)
- âœ… ç³»ç»Ÿå¥åº·æ£€æŸ¥
- âœ… ç”¨æˆ·æƒé™ç®¡ç†

## ğŸ”§ å¼€å‘

### æœ¬åœ°å¼€å‘ç¯å¢ƒ

```bash
# åç«¯å¼€å‘
cd backend
go run main.go

# å‰ç«¯å¼€å‘
cd frontend
npm start

# æ•°æ®åº“ç®¡ç†
cd backend
./db_manager.sh help
```

### é¡¹ç›®ç»“æ„

```
web-v2/
â”œâ”€â”€ backend/              # Goåç«¯API
â”‚   â”œâ”€â”€ cmd/             # å‘½ä»¤è¡Œå·¥å…·
â”‚   â”œâ”€â”€ internal/        # å†…éƒ¨åŒ…
â”‚   â”œâ”€â”€ migrations/      # æ•°æ®åº“è¿ç§»
â”‚   â””â”€â”€ outputs/         # ç”Ÿæˆæ–‡ä»¶è¾“å‡º
â”œâ”€â”€ frontend/            # Reactå‰ç«¯
â”‚   â”œâ”€â”€ src/            # æºä»£ç 
â”‚   â””â”€â”€ public/         # é™æ€èµ„æº
â”œâ”€â”€ tests/              # æµ‹è¯•æ–‡ä»¶
â”‚   â”œâ”€â”€ scripts/        # æµ‹è¯•è„šæœ¬
â”‚   â””â”€â”€ fixtures/       # æµ‹è¯•æ•°æ®
â”œâ”€â”€ docker/             # Dockeræ–‡ä»¶
â”‚   â”œâ”€â”€ production/     # ç”Ÿäº§ç¯å¢ƒ
â”‚   â””â”€â”€ testing/        # æµ‹è¯•ç¯å¢ƒ
â””â”€â”€ docs/               # é¡¹ç›®æ–‡æ¡£
```

## ğŸš€ éƒ¨ç½²

### ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²

```bash
# ä½¿ç”¨ç”Ÿäº§ç¯å¢ƒé…ç½®
docker-compose -f docker/production/docker-compose.yml up -d

# é…ç½®ç”Ÿäº§ç¯å¢ƒå˜é‡
cp .env.example .env
# ç¼–è¾‘ .env æ–‡ä»¶
```

### ç¯å¢ƒé…ç½®

è¯¦è§ `.env.example` æ–‡ä»¶ä¸­çš„é…ç½®è¯´æ˜ã€‚

## ğŸ”’ å®‰å…¨

### é»˜è®¤å®‰å…¨é…ç½®

- JWT Token è®¤è¯
- RBAC æƒé™æ§åˆ¶
- SQL æ³¨å…¥é˜²æŠ¤
- CORS é…ç½®
- è¾“å…¥éªŒè¯å’Œæ¸…ç†

### ç”Ÿäº§ç¯å¢ƒå®‰å…¨å»ºè®®

1. æ›´æ”¹é»˜è®¤ç®¡ç†å‘˜å¯†ç 
2. é…ç½®å¼º JWT å¯†é’¥
3. å¯ç”¨ HTTPS
4. å®šæœŸæ›´æ–°ä¾èµ–
5. é…ç½®é˜²ç«å¢™è§„åˆ™

## ğŸ“Š ç›‘æ§

### å¥åº·æ£€æŸ¥ç«¯ç‚¹

- `GET /api/health` - ç³»ç»Ÿå¥åº·çŠ¶æ€
- `GET /api/health/db` - æ•°æ®åº“è¿æ¥çŠ¶æ€
- `GET /api/health/redis` - Redisè¿æ¥çŠ¶æ€

### æ—¥å¿—

```bash
# æŸ¥çœ‹åº”ç”¨æ—¥å¿—
docker-compose logs -f backend

# æŸ¥çœ‹æ‰€æœ‰æœåŠ¡æ—¥å¿—
docker-compose logs -f
```

## ğŸ¤ è´¡çŒ®

### å¼€å‘æµç¨‹

1. Fork é¡¹ç›®
2. åˆ›å»ºåŠŸèƒ½åˆ†æ”¯ (`git checkout -b feature/amazing-feature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add amazing feature'`)
4. æ¨é€åˆ†æ”¯ (`git push origin feature/amazing-feature`)
5. åˆ›å»º Pull Request

### ä»£ç è§„èŒƒ

- Go: ä½¿ç”¨ `go fmt` å’Œ `golint`
- React: ä½¿ç”¨ ESLint å’Œ Prettier
- æäº¤ä¿¡æ¯éµå¾ª Conventional Commits

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®åŸºäº MIT è®¸å¯è¯å¼€æº - è¯¦è§ [LICENSE](LICENSE) æ–‡ä»¶ã€‚

## ğŸ†˜ æ”¯æŒ

### å¸¸è§é—®é¢˜

æŸ¥çœ‹ [docs/README.md](docs/README.md) ä¸­çš„æ•…éšœæ’é™¤éƒ¨åˆ†ã€‚

### è·å–å¸®åŠ©

- åˆ›å»º Issue æŠ¥å‘Šé—®é¢˜
- æŸ¥çœ‹é¡¹ç›®æ–‡æ¡£
- è¿è¡Œå¥åº·æ£€æŸ¥è„šæœ¬

---

## ğŸ“ˆ é¡¹ç›®çŠ¶æ€

**å½“å‰ç‰ˆæœ¬**: v0.0.3.5  
**çŠ¶æ€**: âœ… ç”Ÿäº§å°±ç»ª  
**æœ€åæ›´æ–°**: 2025å¹´6æœˆ8æ—¥

### æœ€è¿‘æ›´æ–°

- âœ… ä¿®å¤å•æ–‡ä»¶ä¸‹è½½åŠŸèƒ½
- âœ… å‡çº§åˆ° Go 1.24
- âœ… å®Œå–„ Docker å®¹å™¨åŒ–éƒ¨ç½²
- âœ… å¢å¼ºé”™è¯¯å¤„ç†å’Œæ—¥å¿—è®°å½•
- âœ… å®Œæ•´çš„æµ‹è¯•è¦†ç›–
