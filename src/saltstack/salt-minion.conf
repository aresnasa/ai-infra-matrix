# SaltStack Minion 配置 (本地minion用于测试)
# 使用容器网络内的Salt Master服务名
master: saltstack
id: salt-master-local
transport: tcp

# 日志配置
log_level: info
log_file: /var/log/salt/minion
log_fmt_console: '[%(levelname)-8s] %(message)s'

# 缓存配置
cachedir: /var/cache/salt/minion

# PID文件
pidfile: /var/run/salt-minion.pid

# 用户配置（容器内以root运行，避免找不到用户导致启动失败）
user: root

# 启动状态
startup_states: ''

# 自动接受密钥
master_finger: ''

# 超时配置
master_alive_interval: 30
ping_interval: 0

# 重连配置
master_tries: -1
retry_dns: 30

# 网络配置
tcp_keepalive: true
tcp_keepalive_idle: 300
tcp_keepalive_cnt: 3
tcp_keepalive_intvl: 30

# 模块配置
modules_max_memory: -1

# 备份配置
backup_mode: minion
