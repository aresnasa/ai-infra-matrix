# SaltStack Master 配置
interface: 0.0.0.0
publish_port: 4505
ret_port: 4506
transport: tcp

# 日志配置
log_level: info
log_file: /var/log/salt/master
log_fmt_console: '[%(levelname)-8s] %(message)s'

# 文件根目录
file_roots:
  base:
    - /srv/salt

# Pillar根目录  
pillar_roots:
  base:
    - /srv/pillar

# 认证配置
auto_accept: true
keep_jobs: 24

# 缓存配置
cachedir: /var/cache/salt/master

# PID文件
pidfile: /var/run/salt-master.pid

# 扩展模块
extension_modules: /srv/salt/_modules

# 工作进程数
worker_threads: 2

# 超时配置
timeout: 30
gather_job_timeout: 30

# 允许通过 NetAPI 使用的客户端类型，启用 runner 与 wheel 以支持集群状态和密钥管理
netapi_enable_clients:
  - local
  - local_async
  - runner
  - wheel

# 网络配置
tcp_keepalive: true
tcp_keepalive_idle: 300
tcp_keepalive_cnt: 3
tcp_keepalive_intvl: 30

# 权限配置（默认允许，具体权限通过 external_auth 控制）
