# 简化版本的gitea.conf用于测试语法
# 仅包含关键的location部分以验证语法

server {
    listen 80;
    server_name test;

    # 测试named locations
    location @gitea_root_auth_failure {
        add_header X-Debug-SSO-Action "root_auth_failed_proxy_to_gitea" always;
        proxy_pass http://gitea:3000;
        proxy_set_header Host $http_host;
    }

    # 测试普通location
    location /gitea/ {
        proxy_pass http://gitea:3000/;
        proxy_set_header Host $http_host;
    }
}
