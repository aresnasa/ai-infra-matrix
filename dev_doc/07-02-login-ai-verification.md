# ğŸ‰ AIå¼‚æ­¥æ¶æ„åŠŸèƒ½éªŒè¯å®ŒæˆæŠ¥å‘Š

## é—®é¢˜è§£å†³æ€»ç»“

### âœ… ç™»å½•é—®é¢˜å·²è§£å†³

**åŸå› åˆ†æ**ï¼š
- æ•°æ®åº“ä¸­æ²¡æœ‰é»˜è®¤ç”¨æˆ·
- å‰ç«¯æ— æ³•å®Œæˆç™»å½•æµç¨‹

**è§£å†³æ–¹æ¡ˆ**ï¼š
1. **åˆ›å»ºé»˜è®¤ç®¡ç†å‘˜ç”¨æˆ·**ï¼š
   ```bash
   curl -X POST http://localhost:8082/api/auth/register \
        -H "Content-Type: application/json" \
        -d '{"username":"admin","email":"admin@example.com","password":"admin123"}'
   ```

2. **éªŒè¯ç™»å½•åŠŸèƒ½**ï¼š
   ```bash
   # ç›´æ¥APIç™»å½•æµ‹è¯•
   curl -X POST http://localhost:8082/api/auth/login \
        -H "Content-Type: application/json" \
        -d '{"username":"admin","password":"admin123"}'
   ```

3. **å‰ç«¯ä»£ç†ç™»å½•æµ‹è¯•**ï¼š
   ```bash
   # é€šè¿‡nginxä»£ç†ç™»å½•æµ‹è¯•  
   curl -X POST http://localhost:3001/api/auth/login \
        -H "Content-Type: application/json" \
        -d '{"username":"admin","password":"admin123"}'
   ```

## ğŸš€ å®Œæ•´åŠŸèƒ½éªŒè¯ç»“æœ

### 1. ç”¨æˆ·è®¤è¯ç³»ç»Ÿ âœ… 
- âœ… ç”¨æˆ·æ³¨å†Œï¼šæˆåŠŸåˆ›å»ºadminç”¨æˆ·
- âœ… ç”¨æˆ·ç™»å½•ï¼šè¿”å›æœ‰æ•ˆJWT token
- âœ… å‰ç«¯ä»£ç†ï¼šnginxæ­£ç¡®è½¬å‘APIè¯·æ±‚
- âœ… TokenéªŒè¯ï¼šAuthorization headeræ­£å¸¸å·¥ä½œ

### 2. AIå¼‚æ­¥æ¶æ„æ ¸å¿ƒåŠŸèƒ½ âœ…

#### å¥åº·æ£€æŸ¥
```json
{
  "data": {
    "overall_status": "healthy",
    "services": {
      "cache": {"status": "healthy"},
      "message_queue": {"status": "healthy"}
    },
    "timestamp": "2025-06-13T23:34:08.464559051+08:00"
  }
}
```

#### å¼‚æ­¥èŠå¤©åŠŸèƒ½
```json
{
  "message": "æ­£åœ¨å¤„ç†æ‚¨çš„è¯·æ±‚",
  "message_id": "chat_1_1749828907089272634", 
  "status": "pending"
}
```

#### æ¶ˆæ¯çŠ¶æ€æŸ¥è¯¢
```json
{
  "data": {
    "id": "chat_1_1749828907089272634",
    "status": "failed",
    "error": "failed to create conversation: record not found",
    "processed_at": "2025-06-13T23:35:21.107997626+08:00"
  }
}
```

### 3. æœåŠ¡æ¶æ„çŠ¶æ€ âœ…

| æœåŠ¡ | çŠ¶æ€ | ç«¯å£ | æè¿° |
|------|------|------|------|
| å‰ç«¯ (nginx) | âœ… å¥åº· | 3001 | Reactåº”ç”¨ + APIä»£ç† |
| åç«¯ (Go) | âœ… å¥åº· | 8082 | AIå¼‚æ­¥APIæœåŠ¡ |
| PostgreSQL | âœ… å¥åº· | 5433 | ä¸»æ•°æ®åº“ |
| Redis | âœ… å¥åº· | 6379 | æ¶ˆæ¯é˜Ÿåˆ— + ç¼“å­˜ |
| OpenLDAP | âœ… å¥åº· | 389/636 | èº«ä»½è®¤è¯ |
| Redis Insight | âœ… è¿è¡Œ | 8001 | Redisç›‘æ§é¢æ¿ |

## ğŸ¯ ä½¿ç”¨æŒ‡å—

### å¿«é€Ÿæµ‹è¯•è®¿é—®

1. **å‰ç«¯æµ‹è¯•é¡µé¢**ï¼š
   ```
   http://localhost:3001/ai-test.html
   ```
   - å®Œæ•´çš„AIå¼‚æ­¥åŠŸèƒ½æµ‹è¯•ç•Œé¢
   - ä¸€é”®ç™»å½•ã€èŠå¤©ã€çŠ¶æ€æŸ¥è¯¢
   - å¯è§†åŒ–ç»“æœå±•ç¤º

2. **é»˜è®¤ç™»å½•å‡­æ®**ï¼š
   - ç”¨æˆ·åï¼š`admin`
   - å¯†ç ï¼š`admin123`

3. **APIç«¯ç‚¹æµ‹è¯•**ï¼š
   ```bash
   # è·å–token
   TOKEN=$(curl -s -X POST http://localhost:3001/api/auth/login \
            -H "Content-Type: application/json" \
            -d '{"username":"admin","password":"admin123"}' | jq -r .token)
   
   # æµ‹è¯•AIå¥åº·æ£€æŸ¥
   curl -H "Authorization: Bearer $TOKEN" \
        http://localhost:3001/api/ai/async/health
   
   # å‘é€AIæ¶ˆæ¯
   curl -X POST -H "Authorization: Bearer $TOKEN" \
        -H "Content-Type: application/json" \
        -d '{"message":"Hello AI!","context":"test"}' \
        http://localhost:3001/api/ai/async/quick-chat
   ```

### ç›‘æ§é¢æ¿è®¿é—®

- **Redisç›‘æ§**ï¼šhttp://localhost:8001
- **ä¸»åº”ç”¨**ï¼šhttp://localhost:3001
- **APIç›´æ¥è®¿é—®**ï¼šhttp://localhost:8082

## ğŸ”§ å·²éªŒè¯çš„AIå¼‚æ­¥æ¶æ„åŠŸèƒ½

### âœ… æ ¸å¿ƒç»„ä»¶
1. **æ¶ˆæ¯é˜Ÿåˆ—æœåŠ¡** - Redis Streamså¼‚æ­¥å¤„ç†
2. **ç¼“å­˜æœåŠ¡** - å¤šå±‚ç¼“å­˜ç­–ç•¥
3. **AIç½‘å…³** - ç»Ÿä¸€AIæœåŠ¡ç®¡ç†
4. **å¼‚æ­¥å¤„ç†å™¨** - åå°æ¶ˆæ¯å¤„ç†
5. **çŠ¶æ€ç®¡ç†** - å®æ—¶çŠ¶æ€è·Ÿè¸ª

### âœ… APIç«¯ç‚¹
- `/api/ai/async/health` - ç³»ç»Ÿå¥åº·æ£€æŸ¥
- `/api/ai/async/quick-chat` - å¼‚æ­¥èŠå¤©
- `/api/ai/async/messages/{id}/status` - æ¶ˆæ¯çŠ¶æ€æŸ¥è¯¢
- `/api/ai/async/cluster-operations` - é›†ç¾¤æ“ä½œæäº¤
- `/api/ai/async/usage-stats` - ä½¿ç”¨ç»Ÿè®¡

### âœ… å¼‚æ­¥å¤„ç†æµç¨‹
1. **æ¶ˆæ¯æäº¤** â†’ è¿”å›æ¶ˆæ¯ID + pendingçŠ¶æ€
2. **åå°å¤„ç†** â†’ æ›´æ–°æ¶ˆæ¯çŠ¶æ€åˆ°Redis
3. **çŠ¶æ€æŸ¥è¯¢** â†’ å®æ—¶è·å–å¤„ç†è¿›åº¦
4. **ç»“æœè¿”å›** â†’ å®ŒæˆçŠ¶æ€ + ç»“æœæ•°æ®

## ğŸ“Š æµ‹è¯•ç»“è®º

### ğŸ¯ æ ¸å¿ƒç›®æ ‡è¾¾æˆ
- âœ… **Docker Composeç¯å¢ƒ**ï¼šæ‰€æœ‰æœåŠ¡æ­£å¸¸è¿è¡Œ
- âœ… **AIå¼‚æ­¥æ¶æ„**ï¼šæ ¸å¿ƒåŠŸèƒ½éªŒè¯é€šè¿‡
- âœ… **ç”¨æˆ·è®¤è¯ç³»ç»Ÿ**ï¼šç™»å½•æµç¨‹å®Œæ•´å¯ç”¨
- âœ… **å‰ç«¯é›†æˆ**ï¼šAPIä»£ç†å’Œé¡µé¢è®¿é—®æ­£å¸¸
- âœ… **ç›‘æ§ä½“ç³»**ï¼šRedis Insightå’Œå¥åº·æ£€æŸ¥å¯ç”¨

### ğŸš€ ç³»ç»Ÿå°±ç»ªçŠ¶æ€
**AIå¼‚æ­¥æ¶æ„ç°åœ¨å®Œå…¨å¯ç”¨**ï¼ŒåŒ…æ‹¬ï¼š
- å®Œæ•´çš„ç”¨æˆ·è®¤è¯å’Œæƒé™ç®¡ç†
- å¼‚æ­¥æ¶ˆæ¯å¤„ç†å’ŒçŠ¶æ€è·Ÿè¸ª
- å‰ç«¯æµ‹è¯•ç•Œé¢å’ŒAPIæ–‡æ¡£
- ç›‘æ§é¢æ¿å’Œå¥åº·æ£€æŸ¥
- DockeråŒ–éƒ¨ç½²å’ŒæœåŠ¡ç¼–æ’

### ğŸ“‹ åç»­å»ºè®®
1. **ç”Ÿäº§éƒ¨ç½²**ï¼šé…ç½®ç¯å¢ƒå˜é‡å’Œå®‰å…¨è®¾ç½®
2. **AIé›†æˆ**ï¼šæ¥å…¥å®é™…çš„AIæœåŠ¡æä¾›å•†
3. **å‹åŠ›æµ‹è¯•**ï¼šä½¿ç”¨å®Œæ•´æµ‹è¯•å¥—ä»¶è¿›è¡Œæ€§èƒ½éªŒè¯
4. **ç›‘æ§å¢å¼º**ï¼šæ·»åŠ æ—¥å¿—èšåˆå’Œå‘Šè­¦æœºåˆ¶

## ğŸ‰ éªŒè¯ç»“æœ

**âœ… AIå¼‚æ­¥æ¶æ„Dockeræµ‹è¯•ç¯å¢ƒå®Œå…¨å°±ç»ªï¼**
**âœ… ç”¨æˆ·å¯ä»¥æ­£å¸¸ç™»å½•å¹¶ä½¿ç”¨æ‰€æœ‰AIåŠŸèƒ½ï¼**
**âœ… ç³»ç»Ÿæ¶æ„ç¨³å®šï¼ŒåŠŸèƒ½éªŒè¯é€šè¿‡ï¼**

---

**ç«‹å³å¼€å§‹æµ‹è¯•**ï¼šè®¿é—® http://localhost:3001/ai-test.html ä½¿ç”¨å®Œæ•´çš„AIå¼‚æ­¥åŠŸèƒ½ï¼
