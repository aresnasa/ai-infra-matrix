# AI-Infra-Matrix 生产环境配置（与 scripts/build.sh 对齐：prod 使用本文件）
# Production Environment Configuration (build.sh prod -> ENV_FILE=.env.prod)

# =============================================================================
# 镜像仓库配置 - Image Registry Configuration
# =============================================================================
# 私有镜像仓库地址 (例如: registry.company.com/ai-infra)
PRIVATE_REGISTRY=registry.internal.com/ai-infra
# 内部镜像仓库前缀 (例如: registry.company.com/ai-infra/)
IMAGE_REGISTRY_PREFIX=registry.internal.com/ai-infra
# 镜像版本标签
IMAGE_TAG=v0.3.5

# =============================================================================
# 基础配置 - Basic Configuration
# =============================================================================
COMPOSE_PROJECT_NAME=ai-infra-matrix
LOG_LEVEL=info
ENV_FILE=.env.prod

# 构建和调试配置
DEBUG_MODE=false
BUILD_ENV=production

# =============================================================================
# 数据库配置 - Database Configuration
# =============================================================================
POSTGRES_DB=ansible_playbook_generator
POSTGRES_USER=postgres
POSTGRES_PASSWORD=change_me_prod_postgres

# =============================================================================
# Redis配置 - Redis Configuration
# =============================================================================
REDIS_PASSWORD=change_me_prod_redis

# =============================================================================
# JWT/安全配置 - JWT/Security Configuration
# =============================================================================
JWT_SECRET=change_me_prod_jwt_secret
CONFIGPROXY_AUTH_TOKEN=change_me_prod_proxy_token

# =============================================================================
# JupyterHub配置 - JupyterHub Configuration
# =============================================================================
JUPYTERHUB_ADMIN_USERS=admin
JUPYTERHUB_CRYPT_KEY=change_me_prod_crypt_key_hex_64_chars_long_please_replace
JUPYTERHUB_CORS_ORIGIN=http://localhost:8080
JUPYTERHUB_MEM_LIMIT=2G
JUPYTERHUB_CPU_LIMIT=1.0
JUPYTERHUB_IDLE_TIMEOUT=3600
JUPYTERHUB_CULL_TIMEOUT=7200
JUPYTERHUB_DEBUG=false
JUPYTERHUB_LOG_LEVEL=INFO
JUPYTERHUB_ACCESS_LOG=true
JUPYTERHUB_IDLE_CULLER_ENABLED=true

# =============================================================================
# MinIO配置 - MinIO Configuration
# =============================================================================
MINIO_ACCESS_KEY=change_me_prod_minio_access
MINIO_SECRET_KEY=change_me_prod_minio_secret

# =============================================================================
# Gitea配置 - Gitea Configuration
# =============================================================================
GITEA_ADMIN_USER=admin
GITEA_ADMIN_PASSWORD=change_me_prod_gitea_admin
GITEA_ADMIN_EMAIL=admin@example.com
GITEA_ADMIN_FULL_NAME=Administrator
GITEA_ENABLED=true
GITEA_DB_USER=gitea
GITEA_DB_PASSWD=change_me_prod_gitea_db
GITEA_ADMIN_TOKEN=
GITEA_ALIAS_ADMIN_TO=admin
# Use container URL (no /gitea) for API calls from backend
GITEA_BASE_URL=http://gitea:3000
# Auto create users on first login
GITEA_AUTO_CREATE=true

# =============================================================================
# LDAP配置 - LDAP Configuration
# =============================================================================
LDAP_ADMIN_PASSWORD=change_me_prod_ldap_admin
LDAP_CONFIG_PASSWORD=change_me_prod_ldap_config

# =============================================================================
# 网关配置 - Gateway Configuration
# =============================================================================
NGINX_PORT=8080

# =============================================================================
# 分布式部署配置 - Distributed Deployment Configuration
# =============================================================================
# 根据实际环境配置这些选项
# BACKEND_HOST=ai-infra-backend.internal
# BACKEND_PORT=8082
# FRONTEND_HOST=ai-infra-frontend.internal
# FRONTEND_PORT=80
# JUPYTERHUB_HOST=ai-infra-jupyterhub.internal
# JUPYTERHUB_PORT=8000
